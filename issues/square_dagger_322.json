{
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/331234?v=3", 
        "events_url": "https://api.github.com/users/cgruber/events{/privacy}", 
        "followers_url": "https://api.github.com/users/cgruber/followers", 
        "following_url": "https://api.github.com/users/cgruber/following{/other_user}", 
        "gists_url": "https://api.github.com/users/cgruber/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/cgruber", 
        "id": 331234, 
        "login": "cgruber", 
        "organizations_url": "https://api.github.com/users/cgruber/orgs", 
        "received_events_url": "https://api.github.com/users/cgruber/received_events", 
        "repos_url": "https://api.github.com/users/cgruber/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/cgruber/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/cgruber/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/cgruber"
    }, 
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/331234?v=3", 
            "events_url": "https://api.github.com/users/cgruber/events{/privacy}", 
            "followers_url": "https://api.github.com/users/cgruber/followers", 
            "following_url": "https://api.github.com/users/cgruber/following{/other_user}", 
            "gists_url": "https://api.github.com/users/cgruber/gists{/gist_id}", 
            "gravatar_id": "", 
            "html_url": "https://github.com/cgruber", 
            "id": 331234, 
            "login": "cgruber", 
            "organizations_url": "https://api.github.com/users/cgruber/orgs", 
            "received_events_url": "https://api.github.com/users/cgruber/received_events", 
            "repos_url": "https://api.github.com/users/cgruber/repos", 
            "site_admin": false, 
            "starred_url": "https://api.github.com/users/cgruber/starred{/owner}{/repo}", 
            "subscriptions_url": "https://api.github.com/users/cgruber/subscriptions", 
            "type": "User", 
            "url": "https://api.github.com/users/cgruber"
        }
    ], 
    "body": "I just got a  `java.lang.ClassCastException: com.sun.tools.javac.code.Attribute$Error cannot be cast to com.sun.tools.javac.code.Attribute$Class` under `1.7.0_40`.  The error is happening because the `@Module` specifies a value for `injects` that is generated.  So, in the first round of processing the value isn't a valid class because it doesn't exist yet, but in subsequent rounds (after the other processor has been invoked) it works fine.  In fact, the Eclipse compiler handles this just fine.\n\nIt seems that `Element.getAnnotation` isn't safe to call in current versions of Java 1.7, but the bigger issue is probably that `RuntimeException`s are leaking out of the Dagger processors.\n\nHere's the full stack trace:\n\n```\njava.lang.ClassCastException: com.sun.tools.javac.code.Attribute$Error cannot be cast to com.sun.tools.javac.code.Attribute$Class\n    at com.sun.tools.javac.model.AnnotationProxyMaker$ValueVisitor.visitArray(AnnotationProxyMaker.java:190)\n    at com.sun.tools.javac.code.Attribute$Array.accept(Attribute.java:215)\n    at com.sun.tools.javac.model.AnnotationProxyMaker$ValueVisitor.getValue(AnnotationProxyMaker.java:165)\n    at com.sun.tools.javac.model.AnnotationProxyMaker.generateValue(AnnotationProxyMaker.java:143)\n    at com.sun.tools.javac.model.AnnotationProxyMaker.getAllReflectedValues(AnnotationProxyMaker.java:101)\n    at com.sun.tools.javac.model.AnnotationProxyMaker.generateAnnotation(AnnotationProxyMaker.java:86)\n    at com.sun.tools.javac.model.AnnotationProxyMaker.generateAnnotation(AnnotationProxyMaker.java:78)\n    at com.sun.tools.javac.model.JavacElements.getAnnotation(JavacElements.java:108)\n    at com.sun.tools.javac.model.JavacElements.getAnnotation(JavacElements.java:121)\n    at com.sun.tools.javac.code.Symbol$ClassSymbol.getAnnotation(Symbol.java:888)\n    at dagger.internal.codegen.ValidationProcessor.validateProvides(ValidationProcessor.java:75)\n    at dagger.internal.codegen.ValidationProcessor.process(ValidationProcessor.java:67)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\n    at com.sun.tools.javac.main.Main.compile(Main.java:439)\n    ... 26 more\n```\n", 
    "closed_at": "2013-11-13T05:19:17Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/331234?v=3", 
        "events_url": "https://api.github.com/users/cgruber/events{/privacy}", 
        "followers_url": "https://api.github.com/users/cgruber/followers", 
        "following_url": "https://api.github.com/users/cgruber/following{/other_user}", 
        "gists_url": "https://api.github.com/users/cgruber/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/cgruber", 
        "id": 331234, 
        "login": "cgruber", 
        "organizations_url": "https://api.github.com/users/cgruber/orgs", 
        "received_events_url": "https://api.github.com/users/cgruber/received_events", 
        "repos_url": "https://api.github.com/users/cgruber/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/cgruber/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/cgruber/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/cgruber"
    }, 
    "comments": 18, 
    "comments_url": "https://api.github.com/repos/square/dagger/issues/322/comments", 
    "created_at": "2013-10-01T19:39:41Z", 
    "events_url": "https://api.github.com/repos/square/dagger/issues/322/events", 
    "html_url": "https://github.com/square/dagger/issues/322", 
    "id": 20353670, 
    "labels": [], 
    "labels_url": "https://api.github.com/repos/square/dagger/issues/322/labels{/name}", 
    "locked": false, 
    "milestone": {
        "closed_at": "2014-02-14T16:36:27Z", 
        "closed_issues": 31, 
        "created_at": "2013-11-13T05:16:34Z", 
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/331234?v=3", 
            "events_url": "https://api.github.com/users/cgruber/events{/privacy}", 
            "followers_url": "https://api.github.com/users/cgruber/followers", 
            "following_url": "https://api.github.com/users/cgruber/following{/other_user}", 
            "gists_url": "https://api.github.com/users/cgruber/gists{/gist_id}", 
            "gravatar_id": "", 
            "html_url": "https://github.com/cgruber", 
            "id": 331234, 
            "login": "cgruber", 
            "organizations_url": "https://api.github.com/users/cgruber/orgs", 
            "received_events_url": "https://api.github.com/users/cgruber/received_events", 
            "repos_url": "https://api.github.com/users/cgruber/repos", 
            "site_admin": false, 
            "starred_url": "https://api.github.com/users/cgruber/starred{/owner}{/repo}", 
            "subscriptions_url": "https://api.github.com/users/cgruber/subscriptions", 
            "type": "User", 
            "url": "https://api.github.com/users/cgruber"
        }, 
        "description": "", 
        "due_on": "2013-11-14T08:00:00Z", 
        "html_url": "https://github.com/square/dagger/milestones/1.2", 
        "id": 483190, 
        "labels_url": "https://api.github.com/repos/square/dagger/milestones/3/labels", 
        "number": 3, 
        "open_issues": 0, 
        "state": "closed", 
        "title": "1.2", 
        "updated_at": "2014-02-14T16:36:27Z", 
        "url": "https://api.github.com/repos/square/dagger/milestones/3"
    }, 
    "number": 322, 
    "repository_url": "https://api.github.com/repos/square/dagger", 
    "state": "closed", 
    "title": "ClassCastException in ValidationProcessor", 
    "updated_at": "2013-11-27T21:21:06Z", 
    "url": "https://api.github.com/repos/square/dagger/issues/322", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2279476?v=3", 
        "events_url": "https://api.github.com/users/gk5885/events{/privacy}", 
        "followers_url": "https://api.github.com/users/gk5885/followers", 
        "following_url": "https://api.github.com/users/gk5885/following{/other_user}", 
        "gists_url": "https://api.github.com/users/gk5885/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/gk5885", 
        "id": 2279476, 
        "login": "gk5885", 
        "organizations_url": "https://api.github.com/users/gk5885/orgs", 
        "received_events_url": "https://api.github.com/users/gk5885/received_events", 
        "repos_url": "https://api.github.com/users/gk5885/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/gk5885/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/gk5885/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/gk5885"
    }
}