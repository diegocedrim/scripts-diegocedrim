{
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/973334?v=3", 
        "events_url": "https://api.github.com/users/s1monw/events{/privacy}", 
        "followers_url": "https://api.github.com/users/s1monw/followers", 
        "following_url": "https://api.github.com/users/s1monw/following{/other_user}", 
        "gists_url": "https://api.github.com/users/s1monw/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/s1monw", 
        "id": 973334, 
        "login": "s1monw", 
        "organizations_url": "https://api.github.com/users/s1monw/orgs", 
        "received_events_url": "https://api.github.com/users/s1monw/received_events", 
        "repos_url": "https://api.github.com/users/s1monw/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/s1monw/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/s1monw/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/s1monw"
    }, 
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/973334?v=3", 
            "events_url": "https://api.github.com/users/s1monw/events{/privacy}", 
            "followers_url": "https://api.github.com/users/s1monw/followers", 
            "following_url": "https://api.github.com/users/s1monw/following{/other_user}", 
            "gists_url": "https://api.github.com/users/s1monw/gists{/gist_id}", 
            "gravatar_id": "", 
            "html_url": "https://github.com/s1monw", 
            "id": 973334, 
            "login": "s1monw", 
            "organizations_url": "https://api.github.com/users/s1monw/orgs", 
            "received_events_url": "https://api.github.com/users/s1monw/received_events", 
            "repos_url": "https://api.github.com/users/s1monw/repos", 
            "site_admin": false, 
            "starred_url": "https://api.github.com/users/s1monw/starred{/owner}{/repo}", 
            "subscriptions_url": "https://api.github.com/users/s1monw/subscriptions", 
            "type": "User", 
            "url": "https://api.github.com/users/s1monw"
        }
    ], 
    "body": "The following error occur while trying to do a simple phrase query on a multi-field using the suggest api:\n\n<pre>\"failures\" : [ {\n      \"status\" : 400,\n      \"reason\" : \"ElasticSearchIllegalArgumentException[generator field [title] doesn't exist]\"\n    }, {\n      \"status\" : 400,\n      \"reason\" : \"RemoteTransportException[[Bella Donna][inet[/127.0.0.1:9301]][search/phase/query]]; nested: ElasticSearchIllegalArgumentException[generator field [title] doesn't exist]; \"\n    } ]\n</pre>\n\n\nAnd here is the code:\n\n<pre>curl -XDELETE \"http://localhost:9200/test?pretty\"\ncurl -XPOST \"http://localhost:9200/test?pretty\" -d '{\n  \"settings\": {\n    \"index\": {\n      \"number_of_replicas\": 0,\n      \"analysis\":{\n        \"analyzer\":{\n          \"suggest\":{\n            \"type\": \"custom\",\n            \"tokenizer\": \"standard\",\n            \"filter\": [ \"standard\", \"lowercase\", \"suggest_shingle\" ]\n          }\n        },\n        \"filter\":{\n          \"suggest_shingle\":{\n            \"type\": \"shingle\",\n            \"min_shingle_size\": 2,\n            \"max_shingle_size\": 5,\n            \"output_unigrams\": true\n          }\n        }\n      }\n    }\n  }\n}'\ncurl -XPOST \"http://localhost:9200/test/test/_mapping?pretty\" -d '{\n  \"test\": {\n \"properties\" : {\n    \"title\": {\n      \"path\": \"just_name\",\n      \"type\": \"multi_field\",\n      \"fields\": \n        {\n          \"title\": {\n            \"type\": \"string\",\n            \"index\": \"analyzed\",\n            \"similarity\": \"BM25\",\n            \"analyzer\": \"suggest\"\n          }\n        }\n      }\n      \n    }\n  }\n}'\n\n\ncurl -XPOST \"http://localhost:9200/test/test?pretty\" -d '{\n  \"title\": \"Just testing the suggestions api\"\n}'\n\ncurl -XPOST \"http://localhost:9200/test/test?pretty\" -d '{\n  \"title\": \"An other title\"\n}'\n\ncurl -XGET \"http://localhost:9200/test/test/_search?pretty\" -d '{\n  \"query\": {\n    \"match_all\": {}\n  },\n  \"suggest\": {\n    \"text\": \"tetsting sugestion\",\n    \"phrase\":{\n      \"phrase\":{\n        \"field\": \"title\",\n        \"max_errors\": 5\n      }\n    }\n  }\n}'</pre>\n", 
    "closed_at": "2013-08-16T18:25:54Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/973334?v=3", 
        "events_url": "https://api.github.com/users/s1monw/events{/privacy}", 
        "followers_url": "https://api.github.com/users/s1monw/followers", 
        "following_url": "https://api.github.com/users/s1monw/following{/other_user}", 
        "gists_url": "https://api.github.com/users/s1monw/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/s1monw", 
        "id": 973334, 
        "login": "s1monw", 
        "organizations_url": "https://api.github.com/users/s1monw/orgs", 
        "received_events_url": "https://api.github.com/users/s1monw/received_events", 
        "repos_url": "https://api.github.com/users/s1monw/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/s1monw/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/s1monw/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/s1monw"
    }, 
    "comments": 8, 
    "comments_url": "https://api.github.com/repos/elastic/elasticsearch/issues/3469/comments", 
    "created_at": "2013-08-09T03:52:51Z", 
    "events_url": "https://api.github.com/repos/elastic/elasticsearch/issues/3469/events", 
    "html_url": "https://github.com/elastic/elasticsearch/issues/3469", 
    "id": 17845963, 
    "labels": [
        {
            "color": "9e2c2c", 
            "default": true, 
            "id": 23173, 
            "name": "bug", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/bug"
        }, 
        {
            "color": "DDDDDD", 
            "default": false, 
            "id": 51048736, 
            "name": "v0.90.4", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/v0.90.4"
        }, 
        {
            "color": "DDDDDD", 
            "default": false, 
            "id": 37906111, 
            "name": "v1.0.0.Beta1", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/v1.0.0.Beta1"
        }
    ], 
    "labels_url": "https://api.github.com/repos/elastic/elasticsearch/issues/3469/labels{/name}", 
    "locked": false, 
    "milestone": null, 
    "number": 3469, 
    "repository_url": "https://api.github.com/repos/elastic/elasticsearch", 
    "state": "closed", 
    "title": "Multi-field and suggest api error", 
    "updated_at": "2013-08-16T19:10:15Z", 
    "url": "https://api.github.com/repos/elastic/elasticsearch/issues/3469", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1369819?v=3", 
        "events_url": "https://api.github.com/users/mathieu007/events{/privacy}", 
        "followers_url": "https://api.github.com/users/mathieu007/followers", 
        "following_url": "https://api.github.com/users/mathieu007/following{/other_user}", 
        "gists_url": "https://api.github.com/users/mathieu007/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/mathieu007", 
        "id": 1369819, 
        "login": "mathieu007", 
        "organizations_url": "https://api.github.com/users/mathieu007/orgs", 
        "received_events_url": "https://api.github.com/users/mathieu007/received_events", 
        "repos_url": "https://api.github.com/users/mathieu007/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/mathieu007/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/mathieu007/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/mathieu007"
    }
}