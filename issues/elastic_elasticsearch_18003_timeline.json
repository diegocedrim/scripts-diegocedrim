[
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/642577974", 
        "created_at": "2016-04-27T08:28:45Z", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "event": "labeled", 
        "label": {
            "color": "9e2c2c", 
            "name": "bug"
        }, 
        "id": 642577974
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/642577975", 
        "created_at": "2016-04-27T08:28:45Z", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "event": "labeled", 
        "label": {
            "color": "009800", 
            "name": ":Aggregations"
        }, 
        "id": 642577975
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/642577977", 
        "created_at": "2016-04-27T08:28:45Z", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "event": "labeled", 
        "label": {
            "color": "dddddd", 
            "name": "v5.0.0"
        }, 
        "id": 642577977
    }, 
    {
        "source": {
            "url": "https://api.github.com/repos/elastic/elasticsearch/issues/17971", 
            "id": 151063895, 
            "actor": {
                "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
                "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
                "organizations_url": "https://api.github.com/users/jpountz/orgs", 
                "url": "https://api.github.com/users/jpountz", 
                "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
                "html_url": "https://github.com/jpountz", 
                "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
                "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
                "repos_url": "https://api.github.com/users/jpountz/repos", 
                "received_events_url": "https://api.github.com/users/jpountz/received_events", 
                "gravatar_id": "", 
                "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
                "site_admin": false, 
                "login": "jpountz", 
                "type": "User", 
                "id": 299848, 
                "followers_url": "https://api.github.com/users/jpountz/followers"
            }
        }, 
        "created_at": "2016-04-27T05:29:39-03:00", 
        "updated_at": "2016-04-27T05:29:39-03:00", 
        "event": "cross-referenced"
    }, 
    {
        "source": {
            "url": "https://api.github.com/repos/elastic/elasticsearch/issues/17705", 
            "id": 148020974, 
            "actor": {
                "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
                "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
                "organizations_url": "https://api.github.com/users/jpountz/orgs", 
                "url": "https://api.github.com/users/jpountz", 
                "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
                "html_url": "https://github.com/jpountz", 
                "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
                "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
                "repos_url": "https://api.github.com/users/jpountz/repos", 
                "received_events_url": "https://api.github.com/users/jpountz/received_events", 
                "gravatar_id": "", 
                "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
                "site_admin": false, 
                "login": "jpountz", 
                "type": "User", 
                "id": 299848, 
                "followers_url": "https://api.github.com/users/jpountz/followers"
            }
        }, 
        "created_at": "2016-04-27T05:31:36-03:00", 
        "updated_at": "2016-04-27T05:31:36-03:00", 
        "event": "cross-referenced"
    }, 
    {
        "body": "I see significant terms on IPs now format strings correctly with this change but this may be an irrelevant improvement - I expected an error (IPs are numerics, numerics don't have doc frequency any more). What I see in results are IPs selected on what I assume is a false significance - bg_count is reported as zero in the JSON response.\r\n\r\nUntil we adopt a solid strategy for computing background frequencies for types that don't have frequencies directly held by Lucene I thought our policy was to throw a parse error and suggest users index-as-string?\r\n", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/215033543", 
        "event": "commented", 
        "created_at": "2016-04-27T09:51:42Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-215033543", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "updated_at": "2016-04-27T09:51:42Z", 
        "user": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "id": 215033543, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "Oh you are right, I was focused on the json rendering issue and completely missed that. I agree the significant terms aggregation should raise an exception if it cannot get the backgrond frequency rather than assuming 0. For the record, I also tested on an unindexed keyword field and it does not fail either while it should:\r\n```\r\nPUT t \r\n{\r\n  \"mappings\": {\r\n    \"t\": {\r\n      \"properties\": {\r\n        \"a\": {\r\n          \"type\": \"keyword\",\r\n          \"index\": false\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPUT t/t/1\r\n{\r\n  \"a\": \"abc\"\r\n}\r\n\r\nPUT t/t/2\r\n{\r\n}\r\n\r\nGET t/_search\r\n{\r\n  \"query\": {\r\n    \"exists\" : {\r\n      \"field\": \"a\"\r\n    }\r\n  }, \r\n  \"aggs\": {\r\n    \"a_terms\": {\r\n      \"significant_terms\": {\r\n        \"field\": \"a\",\r\n        \"min_doc_count\": 1\r\n      }\r\n    }\r\n  }\r\n}\r\n```", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/215038168", 
        "event": "commented", 
        "created_at": "2016-04-27T10:04:46Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-215038168", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-04-27T10:04:46Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 215038168, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "@markharwood I opened #18031 to address this issue.", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/215351938", 
        "event": "commented", 
        "created_at": "2016-04-28T08:32:21Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-215351938", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-04-28T08:32:21Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 215351938, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/643986919", 
        "created_at": "2016-04-28T08:32:21Z", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "event": "mentioned", 
        "id": 643986919
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/643986920", 
        "created_at": "2016-04-28T08:32:21Z", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "event": "subscribed", 
        "id": 643986920
    }, 
    {
        "source": {
            "url": "https://api.github.com/repos/elastic/elasticsearch/issues/18031", 
            "id": 151579769, 
            "actor": {
                "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
                "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
                "organizations_url": "https://api.github.com/users/jpountz/orgs", 
                "url": "https://api.github.com/users/jpountz", 
                "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
                "html_url": "https://github.com/jpountz", 
                "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
                "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
                "repos_url": "https://api.github.com/users/jpountz/repos", 
                "received_events_url": "https://api.github.com/users/jpountz/received_events", 
                "gravatar_id": "", 
                "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
                "site_admin": false, 
                "login": "jpountz", 
                "type": "User", 
                "id": 299848, 
                "followers_url": "https://api.github.com/users/jpountz/followers"
            }
        }, 
        "created_at": "2016-05-04T05:30:22-03:00", 
        "updated_at": "2016-05-04T05:30:22-03:00", 
        "event": "cross-referenced"
    }, 
    {
        "body": "@markharwood May I merge this one now that points work with significant terms?", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218498503", 
        "event": "commented", 
        "created_at": "2016-05-11T15:38:39Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218498503", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-05-11T15:38:39Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 218498503, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/657363520", 
        "created_at": "2016-05-11T15:38:39Z", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "event": "mentioned", 
        "id": 657363520
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/657363521", 
        "created_at": "2016-05-11T15:38:39Z", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "event": "subscribed", 
        "id": 657363521
    }, 
    {
        "body": "Looks great but I wonder if the Kibana folks will be upset by the removal of \"key_as_string\" in the json?", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218727475", 
        "event": "commented", 
        "created_at": "2016-05-12T11:10:55Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218727475", 
        "actor": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "updated_at": "2016-05-12T11:10:55Z", 
        "user": {
            "following_url": "https://api.github.com/users/markharwood/following{/other_user}", 
            "events_url": "https://api.github.com/users/markharwood/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/markharwood/orgs", 
            "url": "https://api.github.com/users/markharwood", 
            "gists_url": "https://api.github.com/users/markharwood/gists{/gist_id}", 
            "html_url": "https://github.com/markharwood", 
            "subscriptions_url": "https://api.github.com/users/markharwood/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/170925?v=3", 
            "repos_url": "https://api.github.com/users/markharwood/repos", 
            "received_events_url": "https://api.github.com/users/markharwood/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/markharwood/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "markharwood", 
            "type": "User", 
            "id": 170925, 
            "followers_url": "https://api.github.com/users/markharwood/followers"
        }, 
        "id": 218727475, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "@epixa Do you know if not having a `key_as_string` in the response of the terms agg on an ip field would be an issue for Kibana? (the string representation of the ip address is directly under `key`)\r\n", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218746496", 
        "event": "commented", 
        "created_at": "2016-05-12T12:47:48Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218746496", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-05-12T12:47:48Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 218746496, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658530580", 
        "created_at": "2016-05-12T12:47:48Z", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "event": "mentioned", 
        "id": 658530580
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658530581", 
        "created_at": "2016-05-12T12:47:48Z", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "event": "subscribed", 
        "id": 658530581
    }, 
    {
        "body": "Thanks for the heads up, I'm pretty sure it won't cause any problems with Kibana, but let me poke around a bit to make sure.  At the moment, the only reference to `key_as_string` in Kibana is in test fixtures, which may only exist because it was copied from actual ES response data.\r\n\r\nI'll update this PR shortly.", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218805186", 
        "event": "commented", 
        "created_at": "2016-05-12T16:06:22Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218805186", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "updated_at": "2016-05-12T16:06:22Z", 
        "user": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "id": 218805186, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "It looks like removing `key_as_string` will break monitoring in x-pack.  It's also explicitly referenced from the watcher docs (slack action), so removing it will likely break ~~any~~ at least some existing watcher setups with slack.\r\n\r\nHow urgent is this?  We at least have complete control over monitoring which means we could theoretically get a change introduced there as well, but breaking existing watcher setups might be a different animal entirely.", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218807446", 
        "event": "commented", 
        "created_at": "2016-05-12T16:13:58Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218807446", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "updated_at": "2016-05-12T16:15:00Z", 
        "user": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "id": 218807446, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "It is not urgent at all, we are just trying to make terms aggregations work again on ip fields (which was not the case anymore since we added ipv6 support).\r\n\r\nSo I guess we can either add a `key_as_string` key in the response all the time, but this feels a bit weird since it will always be the same as the `key` (this is why a terms agg on a string field does not have a `key_as_string`) or we can only return a `key` like the PR currently does.\r\n\r\nIn that particular case, I think the latter option is fine since we need to break the output of terms aggregations on ip fields anyway (since we cannot return a number that identifies ip addresses anymore)? @clintongormley  any opinions?", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218811590", 
        "event": "commented", 
        "created_at": "2016-05-12T16:28:40Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218811590", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-05-12T16:28:40Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 218811590, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658838532", 
        "created_at": "2016-05-12T16:28:40Z", 
        "actor": {
            "following_url": "https://api.github.com/users/clintongormley/following{/other_user}", 
            "events_url": "https://api.github.com/users/clintongormley/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/clintongormley/orgs", 
            "url": "https://api.github.com/users/clintongormley", 
            "gists_url": "https://api.github.com/users/clintongormley/gists{/gist_id}", 
            "html_url": "https://github.com/clintongormley", 
            "subscriptions_url": "https://api.github.com/users/clintongormley/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/56599?v=3", 
            "repos_url": "https://api.github.com/users/clintongormley/repos", 
            "received_events_url": "https://api.github.com/users/clintongormley/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/clintongormley/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "clintongormley", 
            "type": "User", 
            "id": 56599, 
            "followers_url": "https://api.github.com/users/clintongormley/followers"
        }, 
        "event": "mentioned", 
        "id": 658838532
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658838533", 
        "created_at": "2016-05-12T16:28:40Z", 
        "actor": {
            "following_url": "https://api.github.com/users/clintongormley/following{/other_user}", 
            "events_url": "https://api.github.com/users/clintongormley/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/clintongormley/orgs", 
            "url": "https://api.github.com/users/clintongormley", 
            "gists_url": "https://api.github.com/users/clintongormley/gists{/gist_id}", 
            "html_url": "https://github.com/clintongormley", 
            "subscriptions_url": "https://api.github.com/users/clintongormley/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/56599?v=3", 
            "repos_url": "https://api.github.com/users/clintongormley/repos", 
            "received_events_url": "https://api.github.com/users/clintongormley/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/clintongormley/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "clintongormley", 
            "type": "User", 
            "id": 56599, 
            "followers_url": "https://api.github.com/users/clintongormley/followers"
        }, 
        "event": "subscribed", 
        "id": 658838533
    }, 
    {
        "body": "@jpountz i'm +1 on just returning `key`.  ", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218813955", 
        "event": "commented", 
        "created_at": "2016-05-12T16:37:38Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218813955", 
        "actor": {
            "following_url": "https://api.github.com/users/clintongormley/following{/other_user}", 
            "events_url": "https://api.github.com/users/clintongormley/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/clintongormley/orgs", 
            "url": "https://api.github.com/users/clintongormley", 
            "gists_url": "https://api.github.com/users/clintongormley/gists{/gist_id}", 
            "html_url": "https://github.com/clintongormley", 
            "subscriptions_url": "https://api.github.com/users/clintongormley/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/56599?v=3", 
            "repos_url": "https://api.github.com/users/clintongormley/repos", 
            "received_events_url": "https://api.github.com/users/clintongormley/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/clintongormley/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "clintongormley", 
            "type": "User", 
            "id": 56599, 
            "followers_url": "https://api.github.com/users/clintongormley/followers"
        }, 
        "updated_at": "2016-05-12T16:37:38Z", 
        "user": {
            "following_url": "https://api.github.com/users/clintongormley/following{/other_user}", 
            "events_url": "https://api.github.com/users/clintongormley/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/clintongormley/orgs", 
            "url": "https://api.github.com/users/clintongormley", 
            "gists_url": "https://api.github.com/users/clintongormley/gists{/gist_id}", 
            "html_url": "https://github.com/clintongormley", 
            "subscriptions_url": "https://api.github.com/users/clintongormley/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/56599?v=3", 
            "repos_url": "https://api.github.com/users/clintongormley/repos", 
            "received_events_url": "https://api.github.com/users/clintongormley/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/clintongormley/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "clintongormley", 
            "type": "User", 
            "id": 56599, 
            "followers_url": "https://api.github.com/users/clintongormley/followers"
        }, 
        "id": 218813955, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658849261", 
        "created_at": "2016-05-12T16:37:38Z", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "event": "mentioned", 
        "id": 658849261
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658849263", 
        "created_at": "2016-05-12T16:37:38Z", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "event": "subscribed", 
        "id": 658849263
    }, 
    {
        "body": "It doesn't seem weird to me at all that we'd return `key_as_string` even in situations when it is the same as `key`.  If anything, the fact that there are some situations when it differs and some when it does not only underscores the importance of doing that to me.  IMO, the burden shouldn't be on the consumer to make choices about which property to use based on the data type.  I mean, it's great that *we* know that those values are identical in some situations, but why should a consumer have to codify that detail as well?", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218815412", 
        "event": "commented", 
        "created_at": "2016-05-12T16:43:02Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218815412", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "updated_at": "2016-05-12T16:43:02Z", 
        "user": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "id": 218815412, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "body": "@epixa I would be fine to do it all the time (but in another issue since this is a broader problem as it also affects eg. terms aggs on string fields). However I suspect there will be push back since making aggregation responses more verbose will put more load on the network (although compression would probably work very well in that case) and make parsing slower since there are more bytes to process. I am not sure how much of an issue this is in practice, but this is a recurring concern.", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/comments/218836493", 
        "event": "commented", 
        "created_at": "2016-05-12T17:59:31Z", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18003#issuecomment-218836493", 
        "actor": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "updated_at": "2016-05-12T17:59:31Z", 
        "user": {
            "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
            "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/jpountz/orgs", 
            "url": "https://api.github.com/users/jpountz", 
            "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
            "html_url": "https://github.com/jpountz", 
            "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
            "repos_url": "https://api.github.com/users/jpountz/repos", 
            "received_events_url": "https://api.github.com/users/jpountz/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "jpountz", 
            "type": "User", 
            "id": 299848, 
            "followers_url": "https://api.github.com/users/jpountz/followers"
        }, 
        "id": 218836493, 
        "issue_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18003"
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658950904", 
        "created_at": "2016-05-12T17:59:31Z", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "event": "mentioned", 
        "id": 658950904
    }, 
    {
        "commit_id": null, 
        "commit_url": null, 
        "url": "https://api.github.com/repos/elastic/elasticsearch/issues/events/658950905", 
        "created_at": "2016-05-12T17:59:31Z", 
        "actor": {
            "following_url": "https://api.github.com/users/epixa/following{/other_user}", 
            "events_url": "https://api.github.com/users/epixa/events{/privacy}", 
            "organizations_url": "https://api.github.com/users/epixa/orgs", 
            "url": "https://api.github.com/users/epixa", 
            "gists_url": "https://api.github.com/users/epixa/gists{/gist_id}", 
            "html_url": "https://github.com/epixa", 
            "subscriptions_url": "https://api.github.com/users/epixa/subscriptions", 
            "avatar_url": "https://avatars.githubusercontent.com/u/53814?v=3", 
            "repos_url": "https://api.github.com/users/epixa/repos", 
            "received_events_url": "https://api.github.com/users/epixa/received_events", 
            "gravatar_id": "", 
            "starred_url": "https://api.github.com/users/epixa/starred{/owner}{/repo}", 
            "site_admin": false, 
            "login": "epixa", 
            "type": "User", 
            "id": 53814, 
            "followers_url": "https://api.github.com/users/epixa/followers"
        }, 
        "event": "subscribed", 
        "id": 658950905
    }
]