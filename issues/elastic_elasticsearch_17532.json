{
    "assignee": null, 
    "assignees": [], 
    "body": "We have a couple places in the code base that assume that search is always done\non the inverted index. However with the new points API in Lucene 6, this is not\ntrue anymore. This commit makes MappedFieldType.indexedValueForSearch protected\nand fixes call sites to keep working for field types that use the inverted\nindex and either work differently ar throw an exception otherwise. For instance,\nit will still be possible to run cross_fields multi match queries on numeric\nfields, but the score contributions will not be blended as well as before, and\nsignificant terms aggregations on long terms will not be possible anymore since\npoints do not record document frequencies.\n", 
    "closed_at": "2016-04-12T07:48:18Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
        "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
        "followers_url": "https://api.github.com/users/jpountz/followers", 
        "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
        "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/jpountz", 
        "id": 299848, 
        "login": "jpountz", 
        "organizations_url": "https://api.github.com/users/jpountz/orgs", 
        "received_events_url": "https://api.github.com/users/jpountz/received_events", 
        "repos_url": "https://api.github.com/users/jpountz/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/jpountz"
    }, 
    "comments": 2, 
    "comments_url": "https://api.github.com/repos/elastic/elasticsearch/issues/17532/comments", 
    "created_at": "2016-04-05T09:21:05Z", 
    "events_url": "https://api.github.com/repos/elastic/elasticsearch/issues/17532/events", 
    "html_url": "https://github.com/elastic/elasticsearch/pull/17532", 
    "id": 145932291, 
    "labels": [
        {
            "color": "009800", 
            "default": false, 
            "id": 184103632, 
            "name": ":Internal", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/:Internal"
        }, 
        {
            "color": "cfcfcf", 
            "default": false, 
            "id": 73544, 
            "name": "non-issue", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/non-issue"
        }, 
        {
            "color": "dddddd", 
            "default": false, 
            "id": 352250322, 
            "name": "v5.0.0-alpha2", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/v5.0.0-alpha2"
        }
    ], 
    "labels_url": "https://api.github.com/repos/elastic/elasticsearch/issues/17532/labels{/name}", 
    "locked": false, 
    "milestone": null, 
    "number": 17532, 
    "pull_request": {
        "diff_url": "https://github.com/elastic/elasticsearch/pull/17532.diff", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/17532", 
        "patch_url": "https://github.com/elastic/elasticsearch/pull/17532.patch", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/pulls/17532"
    }, 
    "repository_url": "https://api.github.com/repos/elastic/elasticsearch", 
    "state": "closed", 
    "title": "Do not assume term queries use the inverted index.", 
    "updated_at": "2016-04-12T07:48:18Z", 
    "url": "https://api.github.com/repos/elastic/elasticsearch/issues/17532", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/299848?v=3", 
        "events_url": "https://api.github.com/users/jpountz/events{/privacy}", 
        "followers_url": "https://api.github.com/users/jpountz/followers", 
        "following_url": "https://api.github.com/users/jpountz/following{/other_user}", 
        "gists_url": "https://api.github.com/users/jpountz/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/jpountz", 
        "id": 299848, 
        "login": "jpountz", 
        "organizations_url": "https://api.github.com/users/jpountz/orgs", 
        "received_events_url": "https://api.github.com/users/jpountz/received_events", 
        "repos_url": "https://api.github.com/users/jpountz/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/jpountz/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/jpountz/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/jpountz"
    }
}