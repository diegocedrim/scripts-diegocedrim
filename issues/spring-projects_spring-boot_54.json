{
    "assignee": null, 
    "assignees": [], 
    "body": "Currently, the embedded Tomcat container (in JAR and CLI modes) stays alive even if the application does not.  To reproduce this do the following steps:\n\n``` bash\ngit clone https://github.com/cloudfoundry/java-test-applications\ncd java-test-applications/spring-boot-application\nFAIL_INIT=true spring run web.groovy \n```\n\nYou should see an exception generated on the console, the application will not respond on an HTTP port, but the process still lives.  This is a problem in a Cloud Foundry environment (but fundamentally any environment where process liveness is monitored) as it appears that the application is fine, but it clearly is not.\n\nA change needs to be made so that the embedded Tomcat container dies when the application dies (which it is designed never to do).  In the Java Buildpack we implement this with a [giant (horrible) listener](https://github.com/cloudfoundry/java-buildpack-support/blob/master/tomcat-buildpack-support/src/main/java/com/gopivotal/buildpack/support/tomcat/ApplicationStartupFailureDetectingLifecycleListener.java).  As you're embedding the container, you might be able to do something a bit simpler.\n", 
    "closed_at": "2013-09-20T15:38:34Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/124075?v=3", 
        "events_url": "https://api.github.com/users/dsyer/events{/privacy}", 
        "followers_url": "https://api.github.com/users/dsyer/followers", 
        "following_url": "https://api.github.com/users/dsyer/following{/other_user}", 
        "gists_url": "https://api.github.com/users/dsyer/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/dsyer", 
        "id": 124075, 
        "login": "dsyer", 
        "organizations_url": "https://api.github.com/users/dsyer/orgs", 
        "received_events_url": "https://api.github.com/users/dsyer/received_events", 
        "repos_url": "https://api.github.com/users/dsyer/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/dsyer/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/dsyer/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/dsyer"
    }, 
    "comments": 0, 
    "comments_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/54/comments", 
    "created_at": "2013-09-20T15:05:01Z", 
    "events_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/54/events", 
    "html_url": "https://github.com/spring-projects/spring-boot/issues/54", 
    "id": 19822474, 
    "labels": [], 
    "labels_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/54/labels{/name}", 
    "locked": false, 
    "milestone": null, 
    "number": 54, 
    "repository_url": "https://api.github.com/repos/spring-projects/spring-boot", 
    "state": "closed", 
    "title": "Embedded Tomcat container stays alive even if the application does not", 
    "updated_at": "2013-09-20T15:38:34Z", 
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/54", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/60754?v=3", 
        "events_url": "https://api.github.com/users/nebhale/events{/privacy}", 
        "followers_url": "https://api.github.com/users/nebhale/followers", 
        "following_url": "https://api.github.com/users/nebhale/following{/other_user}", 
        "gists_url": "https://api.github.com/users/nebhale/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/nebhale", 
        "id": 60754, 
        "login": "nebhale", 
        "organizations_url": "https://api.github.com/users/nebhale/orgs", 
        "received_events_url": "https://api.github.com/users/nebhale/received_events", 
        "repos_url": "https://api.github.com/users/nebhale/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/nebhale/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/nebhale/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/nebhale"
    }
}