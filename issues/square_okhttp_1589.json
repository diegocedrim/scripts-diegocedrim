{
    "assignee": null, 
    "assignees": [], 
    "body": "This exception showed up during Android testing with ToT:\n\n04-25 09:19:23.659  5471  5495 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'com.android.okhttp.Request com.android.okhttp.Response.request()' on a null object reference\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.internal.http.OkHeaders.varyHeaders(OkHeaders.java:180)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.Cache$Entry.<init>(Cache.java:547)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.Cache.put(Cache.java:228)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.Cache.-wrap0(Cache.java)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.Cache$1.put(Cache.java:142)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.android.okhttp.AndroidShimResponseCache.put(AndroidShimResponseCache.java:71)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at android.net.http.HttpResponseCache.put(HttpResponseCache.java:209)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.ResponseCacheAdapter.put(ResponseCacheAdapter.java:109)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:633)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:381)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:328)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getHeaderFields(HttpURLConnectionImpl.java:175)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.DelegatingHttpsURLConnection.getHeaderFields(DelegatingHttpsURLConnection.java:178)\n04-25 09:19:23.659  5471  5495 E AndroidRuntime:         at com.squareup.okhttp.internal.http.HttpsURLConnectionImpl.getHeaderFields(HttpsURLConnectionImpl.java:25)\n\nIt's a valid failure - the app in question is bundling a version of OkHttp and so the shim layer (converting between java.net and OkHttp classes) is being used. It's not handling Vary headers properly. I'm going to upload a fix.\n", 
    "closed_at": "2015-05-11T08:15:35Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6388721?v=3", 
        "events_url": "https://api.github.com/users/nfuller/events{/privacy}", 
        "followers_url": "https://api.github.com/users/nfuller/followers", 
        "following_url": "https://api.github.com/users/nfuller/following{/other_user}", 
        "gists_url": "https://api.github.com/users/nfuller/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/nfuller", 
        "id": 6388721, 
        "login": "nfuller", 
        "organizations_url": "https://api.github.com/users/nfuller/orgs", 
        "received_events_url": "https://api.github.com/users/nfuller/received_events", 
        "repos_url": "https://api.github.com/users/nfuller/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/nfuller/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/nfuller/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/nfuller"
    }, 
    "comments": 2, 
    "comments_url": "https://api.github.com/repos/square/okhttp/issues/1589/comments", 
    "created_at": "2015-04-28T15:44:34Z", 
    "events_url": "https://api.github.com/repos/square/okhttp/issues/1589/events", 
    "html_url": "https://github.com/square/okhttp/issues/1589", 
    "id": 71626041, 
    "labels": [
        {
            "color": "fc2929", 
            "default": true, 
            "id": 9998865, 
            "name": "bug", 
            "url": "https://api.github.com/repos/square/okhttp/labels/bug"
        }
    ], 
    "labels_url": "https://api.github.com/repos/square/okhttp/issues/1589/labels{/name}", 
    "locked": false, 
    "milestone": {
        "closed_at": null, 
        "closed_issues": 45, 
        "created_at": "2014-03-22T02:57:09Z", 
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/133019?v=3", 
            "events_url": "https://api.github.com/users/swankjesse/events{/privacy}", 
            "followers_url": "https://api.github.com/users/swankjesse/followers", 
            "following_url": "https://api.github.com/users/swankjesse/following{/other_user}", 
            "gists_url": "https://api.github.com/users/swankjesse/gists{/gist_id}", 
            "gravatar_id": "", 
            "html_url": "https://github.com/swankjesse", 
            "id": 133019, 
            "login": "swankjesse", 
            "organizations_url": "https://api.github.com/users/swankjesse/orgs", 
            "received_events_url": "https://api.github.com/users/swankjesse/received_events", 
            "repos_url": "https://api.github.com/users/swankjesse/repos", 
            "site_admin": false, 
            "starred_url": "https://api.github.com/users/swankjesse/starred{/owner}{/repo}", 
            "subscriptions_url": "https://api.github.com/users/swankjesse/subscriptions", 
            "type": "User", 
            "url": "https://api.github.com/users/swankjesse"
        }, 
        "description": null, 
        "due_on": null, 
        "html_url": "https://github.com/square/okhttp/milestones/Icebox", 
        "id": 606107, 
        "labels_url": "https://api.github.com/repos/square/okhttp/milestones/6/labels", 
        "number": 6, 
        "open_issues": 39, 
        "state": "open", 
        "title": "Icebox", 
        "updated_at": "2016-11-13T23:16:17Z", 
        "url": "https://api.github.com/repos/square/okhttp/milestones/6"
    }, 
    "number": 1589, 
    "repository_url": "https://api.github.com/repos/square/okhttp", 
    "state": "closed", 
    "title": "Vary headers not working on Android", 
    "updated_at": "2015-05-11T08:15:35Z", 
    "url": "https://api.github.com/repos/square/okhttp/issues/1589", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6388721?v=3", 
        "events_url": "https://api.github.com/users/nfuller/events{/privacy}", 
        "followers_url": "https://api.github.com/users/nfuller/followers", 
        "following_url": "https://api.github.com/users/nfuller/following{/other_user}", 
        "gists_url": "https://api.github.com/users/nfuller/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/nfuller", 
        "id": 6388721, 
        "login": "nfuller", 
        "organizations_url": "https://api.github.com/users/nfuller/orgs", 
        "received_events_url": "https://api.github.com/users/nfuller/received_events", 
        "repos_url": "https://api.github.com/users/nfuller/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/nfuller/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/nfuller/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/nfuller"
    }
}