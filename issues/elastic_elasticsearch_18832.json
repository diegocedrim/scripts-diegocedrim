{
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4744941?v=3", 
        "events_url": "https://api.github.com/users/jasontedor/events{/privacy}", 
        "followers_url": "https://api.github.com/users/jasontedor/followers", 
        "following_url": "https://api.github.com/users/jasontedor/following{/other_user}", 
        "gists_url": "https://api.github.com/users/jasontedor/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/jasontedor", 
        "id": 4744941, 
        "login": "jasontedor", 
        "organizations_url": "https://api.github.com/users/jasontedor/orgs", 
        "received_events_url": "https://api.github.com/users/jasontedor/received_events", 
        "repos_url": "https://api.github.com/users/jasontedor/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/jasontedor/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/jasontedor/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/jasontedor"
    }, 
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/4744941?v=3", 
            "events_url": "https://api.github.com/users/jasontedor/events{/privacy}", 
            "followers_url": "https://api.github.com/users/jasontedor/followers", 
            "following_url": "https://api.github.com/users/jasontedor/following{/other_user}", 
            "gists_url": "https://api.github.com/users/jasontedor/gists{/gist_id}", 
            "gravatar_id": "", 
            "html_url": "https://github.com/jasontedor", 
            "id": 4744941, 
            "login": "jasontedor", 
            "organizations_url": "https://api.github.com/users/jasontedor/orgs", 
            "received_events_url": "https://api.github.com/users/jasontedor/received_events", 
            "repos_url": "https://api.github.com/users/jasontedor/repos", 
            "site_admin": false, 
            "starred_url": "https://api.github.com/users/jasontedor/starred{/owner}{/repo}", 
            "subscriptions_url": "https://api.github.com/users/jasontedor/subscriptions", 
            "type": "User", 
            "url": "https://api.github.com/users/jasontedor"
        }
    ], 
    "body": "The NodeJoinController is responsible for processing joins from nodes, both normally and during master election. For both use cases, the class processes incoming joins in batches in order to be efficient and to accumulated enough joins (i.e., >= min_master_nodes) to seal an election and ensure the new cluster state can be committed. Since the class was written, we introduced a new infrastructure to support batch changes to the cluster state at the `ClusterService` level. This PR rewrites NodeJoinController to use that infra and be simpler.\n\nThe PR also introduces a new concept to ClusterService allowing to submit tasks in batches, guaranteeing that all tasks submitted in a batch will be processed together (potentially with more tasks).  On top of that I added some extra safety checks to the ClusterService, around potential double submission of task objects into the queue.\n\nThis is done in preparation to revive #17811\n", 
    "closed_at": "2016-06-17T07:22:15Z", 
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1006375?v=3", 
        "events_url": "https://api.github.com/users/bleskes/events{/privacy}", 
        "followers_url": "https://api.github.com/users/bleskes/followers", 
        "following_url": "https://api.github.com/users/bleskes/following{/other_user}", 
        "gists_url": "https://api.github.com/users/bleskes/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/bleskes", 
        "id": 1006375, 
        "login": "bleskes", 
        "organizations_url": "https://api.github.com/users/bleskes/orgs", 
        "received_events_url": "https://api.github.com/users/bleskes/received_events", 
        "repos_url": "https://api.github.com/users/bleskes/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/bleskes/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/bleskes/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/bleskes"
    }, 
    "comments": 3, 
    "comments_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18832/comments", 
    "created_at": "2016-06-12T22:16:20Z", 
    "events_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18832/events", 
    "html_url": "https://github.com/elastic/elasticsearch/pull/18832", 
    "id": 159851311, 
    "labels": [
        {
            "color": "009800", 
            "default": false, 
            "id": 160579278, 
            "name": ":Discovery", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/:Discovery"
        }, 
        {
            "color": "cfcfcf", 
            "default": false, 
            "id": 73544, 
            "name": "non-issue", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/non-issue"
        }, 
        {
            "color": "dddddd", 
            "default": false, 
            "id": 381894283, 
            "name": "v5.0.0-alpha4", 
            "url": "https://api.github.com/repos/elastic/elasticsearch/labels/v5.0.0-alpha4"
        }
    ], 
    "labels_url": "https://api.github.com/repos/elastic/elasticsearch/issues/18832/labels{/name}", 
    "locked": false, 
    "milestone": null, 
    "number": 18832, 
    "pull_request": {
        "diff_url": "https://github.com/elastic/elasticsearch/pull/18832.diff", 
        "html_url": "https://github.com/elastic/elasticsearch/pull/18832", 
        "patch_url": "https://github.com/elastic/elasticsearch/pull/18832.patch", 
        "url": "https://api.github.com/repos/elastic/elasticsearch/pulls/18832"
    }, 
    "repository_url": "https://api.github.com/repos/elastic/elasticsearch", 
    "state": "closed", 
    "title": "Simplify NodeJoinController to make use of new cluster state batching infra", 
    "updated_at": "2016-06-17T07:22:15Z", 
    "url": "https://api.github.com/repos/elastic/elasticsearch/issues/18832", 
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1006375?v=3", 
        "events_url": "https://api.github.com/users/bleskes/events{/privacy}", 
        "followers_url": "https://api.github.com/users/bleskes/followers", 
        "following_url": "https://api.github.com/users/bleskes/following{/other_user}", 
        "gists_url": "https://api.github.com/users/bleskes/gists{/gist_id}", 
        "gravatar_id": "", 
        "html_url": "https://github.com/bleskes", 
        "id": 1006375, 
        "login": "bleskes", 
        "organizations_url": "https://api.github.com/users/bleskes/orgs", 
        "received_events_url": "https://api.github.com/users/bleskes/received_events", 
        "repos_url": "https://api.github.com/users/bleskes/repos", 
        "site_admin": false, 
        "starred_url": "https://api.github.com/users/bleskes/starred{/owner}{/repo}", 
        "subscriptions_url": "https://api.github.com/users/bleskes/subscriptions", 
        "type": "User", 
        "url": "https://api.github.com/users/bleskes"
    }
}